{% extends "base.html" %}
{% block content %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<h2>COVID 19 Trend Predictor</h2>
<div class="text-left">
    <form id="predict" method="POST" action="{% url 'predict' %}">
        <input type="submit" class="btn btn-primary" value="Predict">
    </form>
</div>
<div>
    {% if test_div %}
        <h2 class="text-center"><u>Accuracy ({{accuracy}}%) </u></h2><br>      
        {% autoescape off %}     
        {{test_div}}  
        {% endautoescape %}
        <br> 
        <br> 
        <br> 
    {% endif %}
  </div>

  <div>
    {% if forecast_div %}
        <h2 class="text-center"><u>Forecasting Daily Number of Cases </u></h2><br>      
        {% autoescape off %}     
        {{forecast_div}}  
        {% endautoescape %}
        <br> 
        <br> 
        <br> 
    {% endif %}
  </div>

  <div class="container"> 
    {% if forecast_result %}   
    <h2 class="text-center"><u>Forecasted Values</u></h2><br>             
    <table class="table table-dark table-striped"> 
      <thead> 
        <tr> 
          <th>Date</th> 
          <th>Daily Number of Cases</th> 
        </tr> 
      </thead> 
      <tbody> 
      {% for result in forecast_result %} 
        <tr> 
          <td>{{result.Date_reported}}</td> 
          <td>{{result.New_cases}}</td> 
        </tr> 
      {% endfor %} 
      {% endif %} 
      </tbody> 
    </table> 
    <br> 
    <br> 
    <br>
  </div>
  
{% endblock content %}

